<?xml version="1.0"  encoding="ISO-8859-1"  ?>
<!DOCTYPE XMI>
<XMI xmi.version="1.2" >
<XMI.header>
<XMI.documentation>
<XMI.exporter>Ilog Rule Kit</XMI.exporter>
<XMI.exporterVersion>4.1</XMI.exporterVersion>
</XMI.documentation>
<XMI.model href="ilr:0180AA48075B03010000FCC4BF018265A8C0#1"  xmi.name="Application"  xmi.version="1.2" />
<XMI.metamodel href="ilr:09804659F3E0EA00000084662F000100007F#1"  xmi.name="Application"  xmi.version="1.2" />
</XMI.header>
<XMI.content>
<Rule.RulePackage xmi.id="a1"  xmi.uuid="ilr:1B955D135A67030100001F57FE018265A8C0#1"  isRoot="false"  isLeaf="false"  isAbstract="false"  name="ValidCodes"  editable="true"  creationDate="22 Apr 2005 15:19:49 GMT"  lastModificationDate="28 Apr 2005 17:37:43 GMT" >
<Model.Namespace.contents>
<Rule.DefaultRule xmi.id="a2"  xmi.uuid="ilr:1F955D135A67030100001F57FE018265A8C0#1"  priority="maximum"  active="true"  historyVersion="false"  name="Code Empty"  editable="true"  creationDate="22 Apr 2005 15:24:38 GMT"  lastModificationDate="16 May 2005 16:27:12 GMT"  currentDefinition="a3" >
<Basics.BusinessElement.library>
<Rule.TemplateLibrary name="Template Library"  href="ilr:2B80AA48075B03010000FCC4BF018265A8C0#1" />
</Basics.BusinessElement.library>
<Model.Namespace.contents>
<Language.BAL46 xmi.id="a3"  xmi.uuid="ilr:20955D135A67030100001F57FE018265A8C0#1"  grammarFile="ilog\rules\brl\bal46\BAL.xsd"  javaClassname="ilog.rules.brl.IlrGrammarTokenModel"  name="BAL"  editable="true" >
<Basics.TokenModelDefinition.tokenModelText>&lt;ilr-xml-object class=&quot;ilog.rules.brl.IlrGrammarTokenModel&quot;  version=&quot;1&quot; &gt;
 &lt;ilr-syntax-tree&gt;
  &lt;rule&gt;
   &lt;conditions&gt;
    &lt;condition&gt;
     &lt;test&gt;
      &lt;test-choice&gt;
       &lt;path&gt;
        &lt;?brl recursed ?&gt;
        &lt;member&gt;java.lang.String boolean isEmpty()
         &lt;?brl bomMember=ilr:9480AA48075B03010000FCC4BF018265A8C0#1 ?&gt;
        &lt;&#47;member&gt;
        &lt;object&gt;
         &lt;member&gt;com.miriasystems.mp.domain.Document java.lang.String getRequesterName()
          &lt;?brl bomMember=ilr:1388C516B3D303010000FCC4BF018265A8C0#1 ?&gt;
         &lt;&#47;member&gt;
        &lt;&#47;object&gt;
       &lt;&#47;path&gt;
      &lt;&#47;test-choice&gt;
     &lt;&#47;test&gt;
    &lt;&#47;condition&gt;
    &lt;nextcondition&gt;
     &lt;separator&gt;
      &lt;and&gt;&lt;&#47;and&gt;
     &lt;&#47;separator&gt;
     &lt;condition&gt;
      &lt;test&gt;
       &lt;test-choice&gt;
        &lt;path&gt;
         &lt;member&gt;boolean isValid
          &lt;?brl parameter=ilr:21955D135A67030100001F57FE018265A8C0#1 ?&gt;
         &lt;&#47;member&gt;
        &lt;&#47;path&gt;
       &lt;&#47;test-choice&gt;
      &lt;&#47;test&gt;
     &lt;&#47;condition&gt;
    &lt;&#47;nextcondition&gt;
   &lt;&#47;conditions&gt;
   &lt;actions&gt;
    &lt;action&gt;
     &lt;attribute-setter&gt;
      &lt;target&gt;
       &lt;member&gt;boolean isValid
        &lt;?brl parameter=ilr:21955D135A67030100001F57FE018265A8C0#1 ?&gt;
       &lt;&#47;member&gt;
      &lt;&#47;target&gt;
      &lt;value&gt;
       &lt;value&gt;false&lt;&#47;value&gt;
      &lt;&#47;value&gt;
     &lt;&#47;attribute-setter&gt;
    &lt;&#47;action&gt;
   &lt;&#47;actions&gt;
   &lt;else-actions&gt;
    &lt;action&gt;
     &lt;attribute-setter&gt;
      &lt;target&gt;
       &lt;member&gt;boolean isValid
        &lt;?brl parameter=ilr:21955D135A67030100001F57FE018265A8C0#1 ?&gt;
       &lt;&#47;member&gt;
      &lt;&#47;target&gt;
      &lt;value&gt;
       &lt;value&gt;true&lt;&#47;value&gt;
      &lt;&#47;value&gt;
     &lt;&#47;attribute-setter&gt;
    &lt;&#47;action&gt;
   &lt;&#47;else-actions&gt;
  &lt;&#47;rule&gt;
 &lt;&#47;ilr-syntax-tree&gt;
&lt;&#47;ilr-xml-object&gt;
</Basics.TokenModelDefinition.tokenModelText>
</Language.BAL46>
</Model.Namespace.contents>
</Rule.DefaultRule>
<Rule.Parameter xmi.id="a4"  xmi.uuid="ilr:21955D135A67030100001F57FE018265A8C0#1"  direction="out_dir"  visible="true"  initialValue="true"  name="isValid"  editable="true" >
<Model.TypedElement.type>
<DefaultBusinessModel.PrimitiveType name="boolean"  href="ilr:3280AA48075B03010000FCC4BF018265A8C0#1" />
</Model.TypedElement.type>
</Rule.Parameter>
<Rule.FunctionSet xmi.id="a5"  xmi.uuid="ilr:23955D135A67030100001F57FE018265A8C0#1"  historyVersion="false"  name="FunctionSet"  editable="true"  creationDate="22 Apr 2005 15:29:05 GMT"  lastModificationDate="8 Jun 2005 21:32:24 GMT"  currentDefinition="a6" >
<Model.Namespace.contents>
<Language.RuleIRL xmi.id="a6"  xmi.uuid="ilr:24955D135A67030100001F57FE018265A8C0#1"  name="RuleIRL"  editable="true" >
<Basics.TextDefinition.text>function void ilrmain(Object o) { &#9;
&#9;insert DocumentLine() {
&#47;&#47;&#9;&#9;accountCode1 = &quot;account 1&quot;;
&#9;}
&#9;insert DocumentLine() {
&#9;}&#9;
&#9;execute();
}</Basics.TextDefinition.text>
</Language.RuleIRL>
</Model.Namespace.contents>
</Rule.FunctionSet>
<Rule.Parameter xmi.id="a7"  xmi.uuid="ilr:2C8DE1B38F6A0301000096EA09018265A8C0#1"  direction="in_dir"  visible="true"  executionValue="new APDocumentHeader()"  name="document"  editable="true" >
<Model.TypedElement.type>
<DefaultBusinessModel.Class name="Document"  href="ilr:EC87C516B3D303010000FCC4BF018265A8C0#1" />
</Model.TypedElement.type>
</Rule.Parameter>
<RuleFlow.RuleFlow xmi.id="a8"  xmi.uuid="ilr:448DE1B38F6A0301000096EA09018265A8C0#1"  historyVersion="false"  name="Ruleflow"  editable="true"  creationDate="22 Apr 2005 15:49:46 GMT"  lastModificationDate="28 Apr 2005 17:37:43 GMT"  currentDefinition="a9" >
<Model.Namespace.contents>
<RuleFlow.BusinessRuleFlowDefinition xmi.id="a9"  xmi.uuid="ilr:468DE1B38F6A0301000096EA09018265A8C0#1"  name="BusinessRuleFlowDefinition"  editable="true" >
<RuleFlow.RuleFlowDefinition.graphModelText>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;SDM&gt;&lt;pseudoState id=&quot;ilr:4F8DE1B38F6A0301000096EA09018265A8C0#1&quot;&gt;&lt;property name=&quot;x&quot;&gt;70.5&lt;&#47;property&gt;&lt;property name=&quot;name&quot;&gt;Start&lt;&#47;property&gt;&lt;property name=&quot;kind&quot;&gt;initial&lt;&#47;property&gt;&lt;property name=&quot;y&quot;&gt;39.0&lt;&#47;property&gt;&lt;&#47;pseudoState&gt;&lt;finalState id=&quot;ilr:508DE1B38F6A0301000096EA09018265A8C0#1&quot;&gt;&lt;property name=&quot;x&quot;&gt;70.5&lt;&#47;property&gt;&lt;property name=&quot;name&quot;&gt;End&lt;&#47;property&gt;&lt;property name=&quot;y&quot;&gt;191.75&lt;&#47;property&gt;&lt;&#47;finalState&gt;&lt;ruleFlowState id=&quot;ilr:538DE1B38F6A0301000096EA09018265A8C0#1&quot;&gt;&lt;property name=&quot;taskName&quot;&gt;Account Empty&lt;&#47;property&gt;&lt;property name=&quot;x&quot;&gt;30.0&lt;&#47;property&gt;&lt;property name=&quot;taskType&quot;&gt;RuleFlow.RuleTask&lt;&#47;property&gt;&lt;property name=&quot;name&quot;&gt;Code Empty&lt;&#47;property&gt;&lt;property name=&quot;taskId&quot;&gt;ilr:518DE1B38F6A0301000096EA09018265A8C0#1&lt;&#47;property&gt;&lt;property name=&quot;y&quot;&gt;88.0&lt;&#47;property&gt;&lt;&#47;ruleFlowState&gt;&lt;transition from=&quot;ilr:4F8DE1B38F6A0301000096EA09018265A8C0#1&quot; id=&quot;ilr:558DE1B38F6A0301000096EA09018265A8C0#1&quot; islink=&quot;true&quot; to=&quot;ilr:538DE1B38F6A0301000096EA09018265A8C0#1&quot;&gt;&lt;property name=&quot;name&quot;&gt;RuleFlowTransition&lt;&#47;property&gt;&lt;&#47;transition&gt;&lt;transition from=&quot;ilr:538DE1B38F6A0301000096EA09018265A8C0#1&quot; id=&quot;ilr:568DE1B38F6A0301000096EA09018265A8C0#1&quot; islink=&quot;true&quot; to=&quot;ilr:508DE1B38F6A0301000096EA09018265A8C0#1&quot;&gt;&lt;property name=&quot;name&quot;&gt;RuleFlowTransition_2&lt;&#47;property&gt;&lt;&#47;transition&gt;&lt;&#47;SDM&gt;</RuleFlow.RuleFlowDefinition.graphModelText>
</RuleFlow.BusinessRuleFlowDefinition>
<RuleFlow.TaskInitialActions xmi.id="a10"  xmi.uuid="ilr:4A8DE1B38F6A0301000096EA09018265A8C0#1"  historyVersion="false"  name="Initial Actions"  editable="true"  creationDate="22 Apr 2005 15:49:58 GMT"  lastModificationDate="16 May 2005 16:28:13 GMT"  currentDefinition="a11" >
<Model.Namespace.contents>
<RuleFlow.ScriptIRL xmi.id="a11"  xmi.uuid="ilr:4B8DE1B38F6A0301000096EA09018265A8C0#1"  text="foreach (DocumentLine lineItem in document.documentLines) { &#9;?context.insert(?lineItem); }"  name="ScriptIRL"  editable="true" >
</RuleFlow.ScriptIRL>
</Model.Namespace.contents>
</RuleFlow.TaskInitialActions>
<RuleFlow.RuleTask xmi.id="a12"  xmi.uuid="ilr:518DE1B38F6A0301000096EA09018265A8C0#1"  firing="allrules"  ordering="dynamic"  algorithm="default"  historyVersion="false"  name="Account Empty"  editable="true"  creationDate="22 Apr 2005 15:57:35 GMT"  lastModificationDate="28 Apr 2005 17:37:43 GMT"  currentDefinition="a13" >
<RuleFlow.RuleTask.rules>
<Rule.DefaultRule name="Code Empty"  xmi.idref="a2"  xmi.uuid="ilr:1F955D135A67030100001F57FE018265A8C0#1" />
</RuleFlow.RuleTask.rules>
<RuleFlow.Task.action>
<RuleFlow.TaskAction xmi.idref="a14"  xmi.uuid="ilr:548DE1B38F6A0301000096EA09018265A8C0#1" />
</RuleFlow.Task.action>
<Model.Namespace.contents>
<RuleFlow.RuleTaskDefinition xmi.id="a13"  xmi.uuid="ilr:528DE1B38F6A0301000096EA09018265A8C0#1"  name="RuleTaskDefinition"  editable="true" >
</RuleFlow.RuleTaskDefinition>
</Model.Namespace.contents>
</RuleFlow.RuleTask>
</Model.Namespace.contents>
<Behavioral_Elements.State_Machines.StateMachine.top>
<Behavioral_Elements.State_Machines.CompositeState xmi.id="a15"  xmi.uuid="ilr:458DE1B38F6A0301000096EA09018265A8C0#1"  isConcurrent="false"  editable="true" >
<Behavioral_Elements.State_Machines.CompositeState.subvertex>
<Behavioral_Elements.State_Machines.PseudoState xmi.id="a16"  xmi.uuid="ilr:4F8DE1B38F6A0301000096EA09018265A8C0#1"  kind="initial"  name="Start"  editable="true" >
<Behavioral_Elements.State_Machines.StateVertex.outgoing>
<RuleFlow.RuleFlowTransition name="RuleFlowTransition"  xmi.idref="a17"  xmi.uuid="ilr:558DE1B38F6A0301000096EA09018265A8C0#1" />
</Behavioral_Elements.State_Machines.StateVertex.outgoing>
</Behavioral_Elements.State_Machines.PseudoState>
<Behavioral_Elements.State_Machines.FinalState xmi.id="a18"  xmi.uuid="ilr:508DE1B38F6A0301000096EA09018265A8C0#1"  name="End"  editable="true" >
<Behavioral_Elements.State_Machines.StateVertex.incoming>
<RuleFlow.RuleFlowTransition name="RuleFlowTransition_2"  xmi.idref="a19"  xmi.uuid="ilr:568DE1B38F6A0301000096EA09018265A8C0#1" />
</Behavioral_Elements.State_Machines.StateVertex.incoming>
</Behavioral_Elements.State_Machines.FinalState>
<RuleFlow.RuleFlowState xmi.id="a20"  xmi.uuid="ilr:538DE1B38F6A0301000096EA09018265A8C0#1"  isDynamic="false"  name="Code Empty"  editable="true" >
<Behavioral_Elements.State_Machines.State.entry>
<RuleFlow.TaskAction xmi.id="a14"  xmi.uuid="ilr:548DE1B38F6A0301000096EA09018265A8C0#1"  isAsynchronous="false"  editable="true"  task="a12" >
</RuleFlow.TaskAction>
</Behavioral_Elements.State_Machines.State.entry>
<Behavioral_Elements.State_Machines.StateVertex.outgoing>
<RuleFlow.RuleFlowTransition name="RuleFlowTransition_2"  xmi.idref="a19"  xmi.uuid="ilr:568DE1B38F6A0301000096EA09018265A8C0#1" />
</Behavioral_Elements.State_Machines.StateVertex.outgoing>
<Behavioral_Elements.State_Machines.StateVertex.incoming>
<RuleFlow.RuleFlowTransition name="RuleFlowTransition"  xmi.idref="a17"  xmi.uuid="ilr:558DE1B38F6A0301000096EA09018265A8C0#1" />
</Behavioral_Elements.State_Machines.StateVertex.incoming>
</RuleFlow.RuleFlowState>
</Behavioral_Elements.State_Machines.CompositeState.subvertex>
</Behavioral_Elements.State_Machines.CompositeState>
</Behavioral_Elements.State_Machines.StateMachine.top>
<Behavioral_Elements.State_Machines.StateMachine.transitions>
<RuleFlow.RuleFlowTransition xmi.id="a17"  xmi.uuid="ilr:558DE1B38F6A0301000096EA09018265A8C0#1"  name="RuleFlowTransition"  editable="true"  source="a16"  target="a20" >
</RuleFlow.RuleFlowTransition>
<RuleFlow.RuleFlowTransition xmi.id="a19"  xmi.uuid="ilr:568DE1B38F6A0301000096EA09018265A8C0#1"  name="RuleFlowTransition_2"  editable="true"  source="a20"  target="a18" >
</RuleFlow.RuleFlowTransition>
</Behavioral_Elements.State_Machines.StateMachine.transitions>
</RuleFlow.RuleFlow>
</Model.Namespace.contents>
</Rule.RulePackage>
</XMI.content>
</XMI>
